import matplotlib.pyplot as pltimport numpy as npimport sysfrom skimage import iofrom skimage import img_as_floatfrom mpl_toolkits.mplot3d import Axes3Ddef kmeans(imgvector, kval, itr):    rprsntns = np.full((imgvector.shape[0],), -1)    clstrs = np.random.rand(kval, 3)        for i in range(itr):        print('Iteration : ' + str(i + 1))        ptlabels = [None for x in range(kval)]        for i, j in enumerate(imgvector):            rows = np.repeat(j, kval).reshape(3, kval).T            cllabels = np.argmin(np.linalg.norm(rows - clstrs, axis=1))            rprsntns[i] = cllabels            if ptlabels[cllabels] is None:                ptlabels[cllabels] = []            ptlabels[cllabels].append(j)        for x in range(kval):            if (ptlabels[x] is not None):                len1 = len(ptlabels[x])                new_clusters = np.asarray(ptlabels[x]).sum(axis=0) / len1                clstrs[x] = new_clusters    return (rprsntns , clstrs)if __name__ == '__main__':    kmeans_image = sys.argv[1]    Kvalue= int(sys.argv[2])    iterations= int(sys.argv[3])    image = io.imread(kmeans_image)[:, :, :3]    image1 = img_as_float(image)    image_dimension = image1.shape    img_name = kmeans_image    vector_image = image1.reshape(-1, image_dimension[-1])    labels, centroids = kmeans(vector_image, kval=Kvalue, itr=iterations)    output_image = np.zeros(vector_image.shape)    for j in range(output_image.shape[0]):        output_image[j] = centroids[labels[j]]    outputimage = output_image.reshape(image1.shape)    if Kvalue==2:        if kmeans_image == 'Koala.jpg':            io.imsave('koala2.jpg' , outputimage)        if kmeans_image == 'Penguins.jpg':            io.imsave('penguins2.jpg' , outputimage)    elif Kvalue==5:        if kmeans_image == 'Koala.jpg':            io.imsave('koala5.jpg' , outputimage)        if kmeans_image == 'Penguins.jpg':            io.imsave('penguins5.jpg' , outputimage)    elif Kvalue==10:        if kmeans_image == 'Koala.jpg':            io.imsave('koala10.jpg' , outputimage)        if kmeans_image == 'Penguins.jpg':            io.imsave('penguins10.jpg' , outputimage)    elif Kvalue==15:        if kmeans_image == 'Koala.jpg':            io.imsave('koala15.jpg' , outputimage)        if kmeans_image == 'Penguins.jpg':            io.imsave('penguins15.jpg' , outputimage)    elif Kvalue==20:        if kmeans_image == 'Koala.jpg':            io.imsave('koala20.jpg' , outputimage)        if kmeans_image == 'Penguins.jpg':            io.imsave('penguins20.jpg' , outputimage)    else:        io.imsave('compressed.jpg',outputimage)    print('Image compression done successfully!')